
---

### Noralogix Genesys Cloud Data Export API Endpoint

**Description**:  
This API endpoint allows users to request the export of raw data from Repo361 by specifying continuationToken and format in a **POST** request. The endpoint supports formats like CSV and AVRO for retrieving Genesys Cloud conversation data.

---

**Endpoint**:  
`https://api.repo361.com/rawdata/export/page`

**HTTP Method**:  
`POST`

---

### Request Body

The request body should be in JSON format and must include the following parameters:

- **continuationToken** (required):  
  _Type_: String
  _Description_: A continuation token indicating where to resume paging or null to begin paging from the beginning..  

- **format** (optional):  
  _Type_: String  
  _Description_: The format of the raw data export. The API supports formats such as CSV (`csv`) or AVRO (`avro`).  
  _Example_: `'avro'`

---

### Example POST Request

To request raw data for a specific date in CSV format, send the following POST request:

```http
POST https://api.repo361.com/rawdata/export/page
Headers: {
    "Authorization": "Bearer {access_token}",
    "Content-Type": "application/json"
}
Body:
{
    "continuationToken": "",
    "format": "avro"
}
```

---

### Authentication

You must include a valid OAuth2 token in the `Authorization` header to access the raw data export API. This token can be generated by authenticating with the Repo361 OAuth2 service.

**Authentication Example**:
```http
Authorization: Bearer {access_token}
```

---

### Response

- **200 OK**:  
  If successful, the API will return a response containing a URL to download the raw data file. The URL will be valid for **1 hour**.
  
  **Example Response**:
  ```json
  {
    "continuationToken": "A continuationToken for next-page retrieval",
    "files": [ { "name": "name of the file without extension", "url": "donwload url" } ],
    "format": "avro",
    "expiryHours": 1
  }
  ```
---

### Example Use Case

1. **Step 1**: Authenticate with Repo361 and generate an OAuth2 token.
2. **Step 2**: Use the token in a POST request to request raw data for a specific date, either in CSV or AVRO format.
3. **Step 3**: Download the data using the URL provided in the API response.

---

By using the POST method, users can dynamically request data exports from Repo361 based on specific parameters format, enabling greater flexibility in data retrieval for downstream processing and analysis.

- You can try this [avro to spark script](https://github.com/Noralogix/repo361-genesyscloud/blob/main/export/GenesysCloud-conversations-avro-to-spark.ipynb) using your own client credentials.